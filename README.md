# Stock System - Mobile client for server Inventory managment system

## Ключевой функционал
### Авторизация и Регистрация (ims-auth-api)
Система регистрации является закрытой, и не позволяет регистрироваться людям не из компании.

Для работы доступно 3 роли: admin, manager, worker

Админ регистрирует менеджеров (так же может и работников)

Менеджер имеет право регистрировать только работников

Работники получают логин и пароль от менеджера и не имеют доступа к регистрации.

### Создание и назначение заданий (ims-staff-api)
Admin/manager имеет право создавать задачи, как отложенные, т.е назначить работника для выполнения позже, так и неотложно.

Админ/manager имеет доступ к просмотру всех доступных задач


Работник имеет доступ только к задачам, которые были выданы ему.

Работник подтверждает выполнение задачи и она попадает в архив выполненых.

Задачи бывают как несвязные, т.е. имеют только текстовые описания, так и связные, которые ориентированны на продукты: добавление, удаление со склада (сервис order & supply в ims-product-api)

### Работа со складом (ims-product-api)
Каждый контейнер (Product) содержит поля: название, количество, описание, местоположения на складе и статуса

Взаимодействие с контейнерами происходит посредством связных задач, описанных выше.

Для админа и менеджеров имеется возможность просмотра всех продуктов. складской работник доступа не емеет.

## Архитектура
Приложение лежит в папке App

В BuildSrc лежат требующиеся для работы зависимости

В директории Core был написан Web-client на Ktor 
```cmd
core/src/main/java/ru/hackathone/core/inventoryapi
```
Автор веб-клиент части https://github.com/lifedaemon-kill (Я), Ux/Ui и логику приложения делал владелец репозитория.

Был использован маштабируемы и расширяемый подход.

Для каждого сервиса и клиента описаны интерфесы и их имплементации.

Для каждого сервиса ims-auth-api и ims-staff-api описан по одину клиенту и одному сервис, ввиду небольшого числа запросов, и сходного функционала.

Для сервиса ims-product-api был разделен функционал на 4 разных клиента ввиду большого числа эндпоинтов и их группировки на product / status / location / category

Для упрощения работы и простоты использования эти сервисы являются полями Union сервиса. что позволяет легко редактировать сервисы и клиентов.

Clients классы - описывают низкоуровневые обращения get, post, put, delete

Clients-Services - это оболочки над клиентами, для расширения функционала: отлова ошибок и реакции на разные кода ответов сервера, сериализация приходящих json объектов.

Все слиенты и сервисы описаны через интерфейс + имплементацию.

Так же созданы dto объекты, для requst и response.

Принцип SOLID соблюден.

Сами сервисы созадются через IoC DI, для последубщего использования в App. 

Так же я написал тесты для всех требующихся эндпоинтов, для всех трех сервисов. функционал работает корректно.
```cmd
core/src/test/java/ru/hackathone/core/inventoryapi
```

## Используемые технологии

- Coroutines
- Decompose
- Jetpack Compose
- Koin
- KotlinX
- Ktor

## Более подробное объяснение архитектуры дано в ютуб видео (настоятельно ознакомьтесь) : https://www.youtube.com/watch?v=dQw4w9WgXcQ
